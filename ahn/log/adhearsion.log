[2013-02-02 11:55:48] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 11:55:48] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 11:55:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 11:55:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 11:55:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 11:55:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 11:55:48] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 11:55:48] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 11:55:48] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 11:56:00] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 11:56:00] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 11:56:00] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 11:56:00] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 11:56:00] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 11:56:00] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 11:56:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 11:56:00] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 11:56:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 11:56:00] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 11:56:00] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 11:56:00] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 11:56:00] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 11:58:14] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 11:58:14] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 11:58:14] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 11:58:14] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 11:58:14] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 11:58:14] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 11:58:14] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 11:58:14] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 11:58:14] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 11:58:26] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 11:58:26] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 11:58:26] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 11:58:26] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 11:58:26] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 11:58:26] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 11:58:26] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 11:58:26] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 11:58:26] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 11:58:26] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 11:58:26] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 11:58:26] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 11:58:26] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:09:16] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:09:17] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:09:17] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:09:17] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:09:17] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:09:17] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:09:17] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 12:09:17] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 12:09:17] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 12:09:52] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:09:52] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:09:52] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 12:09:52] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 12:09:52] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:09:52] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:09:52] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:09:52] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 12:09:52] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 12:09:52] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:09:52] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 12:09:52] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 12:09:52] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:10:28] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:10:28] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:10:28] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:10:28] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:10:28] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:10:28] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:10:28] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 12:10:28] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 12:10:28] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 12:10:49] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:10:49] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:10:49] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 12:10:49] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 12:10:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:10:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:10:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:10:49] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 12:10:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:10:49] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 12:10:49] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 12:10:49] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 12:10:49] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:12:18] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:12:18] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:12:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:12:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:12:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:12:19] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:12:19] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 12:12:19] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 12:12:19] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 12:17:39] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:17:39] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:17:39] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 12:17:39] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 12:17:39] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:17:39] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:17:39] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:17:39] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 12:17:39] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:17:39] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 12:17:39] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 12:17:39] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 12:17:39] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:18:14] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:18:14] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:18:15] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:18:15] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:18:15] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:18:15] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:18:15] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 12:18:15] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 12:18:15] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 12:21:42] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:21:42] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:21:42] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 12:21:42] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 12:21:42] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:21:42] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:21:42] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:21:42] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 12:21:42] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 12:21:42] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 12:21:42] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 12:21:42] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 12:21:42] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:21:51] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:21:51] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:21:51] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:21:51] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:21:51] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:21:51] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:21:51] ERROR Adhearsion::Initializer: <NameError> uninitialized constant FayeClient::Faye
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `instance'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:6:in `block (3 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run_machine'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:5:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 12:22:12] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:22:12] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:22:12] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 12:22:12] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 12:22:12] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:22:12] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:22:12] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 12:22:12] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:22:28] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:22:28] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:22:28] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:22:28] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:22:28] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:22:29] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:23:34] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:23:34] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 12:23:34] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 12:23:34] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:23:34] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:23:34] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 12:23:34] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:23:43] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:23:43] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:23:44] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:23:44] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:23:44] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:23:44] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000000", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359804240.0", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="f8277d48-e737-4b90-8f40-7f0a341eec90"
[2013-02-02 12:24:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Declining call because the process is not yet running.
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Executing command #<Punchblock::Command::Reject reason=:decline, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000000", :channelstate=>"7", :channelstatedesc=>"Busy", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359804240.0"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000000", :commandid=>"1852705232", :command=>"EXEC Busy"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000000", :commandid=>"cf3b15e2-4e6b-4b97-bfd7-b7f9ada23db5", :result=>"200%20result%3D-1%0A"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000", :commandid=>"1852705232", :command=>"EXEC Busy", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359804240.0"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000000", :uniqueid=>"1359804240.0", :cause=>"16"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000000", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359804240.0", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="f8277d48-e737-4b90-8f40-7f0a341eec90"
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359804240.0"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000000", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000000%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359804240.0%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20123%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374081536%0A%0A"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359804240.0"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000000", :uniqueid=>"1359804240.0", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"0", :cause_txt=>"Unknown"}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] DEBUG Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="f8277d48-e737-4b90-8f40-7f0a341eec90", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:24:00] INFO  Adhearsion::Call: f8277d48-e737-4b90-8f40-7f0a341eec90: Call ended
[2013-02-02 12:24:20] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 12:24:20] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:24:20] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 12:24:20] DEBUG Celluloid: Terminating 12 actors...
[2013-02-02 12:24:20] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:24:20] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:24:20] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 12:24:20] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:37:12] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:37:12] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:37:13] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:37:13] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:37:13] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:37:13] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000001", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359805085.1", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477"
[2013-02-02 12:38:05] INFO  Adhearsion::PunchblockPlugin::Initializer: Declining call because the process is not yet running.
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Executing command #<Punchblock::Command::Reject reason=:decline, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :commandid=>"863720108", :command=>"EXEC Busy"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000001", :channelstate=>"7", :channelstatedesc=>"Busy", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359805085.1"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000001", :commandid=>"d432131f-3fee-4c1d-8845-db44858c95e3", :result=>"200%20result%3D-1%0A"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001", :commandid=>"863720108", :command=>"EXEC Busy", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359805085.1", :cause=>"16"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000001%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359805085.1%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20123%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374081536%0A%0A"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359805085.1"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359805085.1"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359805085.1"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359805085.1", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"0", :cause_txt=>"Unknown"}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:38:05] INFO  Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Call ended
[2013-02-02 12:38:05] DEBUG Adhearsion::Call: bc90fdfa-54b2-43f3-9475-da0af5f0c477: Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000001", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359805085.1", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="bc90fdfa-54b2-43f3-9475-da0af5f0c477"
[2013-02-02 12:38:19] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:38:19] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 12:38:19] DEBUG Celluloid: Terminating 12 actors...
[2013-02-02 12:38:19] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:38:19] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:38:19] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 12:38:19] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:39:36] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:39:36] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:39:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:39:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:39:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:39:36] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:39:38] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 12:39:38] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 12:39:38] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 12:39:38] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:39:38] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 12:39:38] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 12:39:38] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 12:58:52] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 12:58:52] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 12:58:52] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 12:58:52] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:58:52] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 12:58:52] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000002", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359806384.2", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c"
[2013-02-02 12:59:45] INFO  Adhearsion::PunchblockPlugin::Initializer: Declining call because the process is not yet running.
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Executing command #<Punchblock::Command::Reject reason=:decline, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :commandid=>"667340446", :command=>"EXEC Busy"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000002", :channelstate=>"7", :channelstatedesc=>"Busy", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359806384.2"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002", :commandid=>"667340446", :command=>"EXEC Busy", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000002", :commandid=>"8d8e8fef-21d0-4cf1-8787-316a0eadd0cc", :result=>"200%20result%3D-1%0A"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359806384.2"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359806384.2", :cause=>"16"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359806384.2"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000002", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359806384.2", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c"
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000002%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359806384.2%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20123%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374081536%0A%0A"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359806384.2"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359806384.2", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"0", :cause_txt=>"Unknown"}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] DEBUG Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="970455ab-a8d1-410a-9448-bb6d6c05fe2c", component_id=nil, target_mixer_name=nil>
[2013-02-02 12:59:45] INFO  Adhearsion::Call: 970455ab-a8d1-410a-9448-bb6d6c05fe2c: Call ended
[2013-02-02 13:06:09] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:06:09] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 13:06:09] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:06:09] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:06:09] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:06:09] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:06:09] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:06:09] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:06:48] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:06:48] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:06:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:06:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:06:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:06:48] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000003", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359806837.3", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="89885eec-19ba-42d4-b2d4-9497205cba4d"
[2013-02-02 13:07:17] INFO  Adhearsion::PunchblockPlugin::Initializer: Declining call because the process is not yet running.
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Executing command #<Punchblock::Command::Reject reason=:decline, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000003", :channelstate=>"7", :channelstatedesc=>"Busy", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359806837.3"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :commandid=>"309139126", :command=>"EXEC Busy"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003", :commandid=>"309139126", :command=>"EXEC Busy", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000003", :commandid=>"a6fa9f80-5298-4e80-ac97-169c6f00b388", :result=>"200%20result%3D-1%0A"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359806837.3"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359806837.3", :cause=>"16"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000003%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359806837.3%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20123%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374081536%0A%0A"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359806837.3"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000003", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359806837.3", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="89885eec-19ba-42d4-b2d4-9497205cba4d"
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359806837.3"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359806837.3", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"0", :cause_txt=>"Unknown"}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] DEBUG Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="89885eec-19ba-42d4-b2d4-9497205cba4d", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:07:17] INFO  Adhearsion::Call: 89885eec-19ba-42d4-b2d4-9497205cba4d: Call ended
[2013-02-02 13:08:13] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:08:13] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:08:13] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:08:13] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:08:13] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:08:13] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:08:13] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:08:40] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:08:40] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:08:40] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:08:40] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:08:40] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:08:40] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:08:40] ERROR Adhearsion::Initializer: <NameError> uninitialized constant FayeClient::Faye
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `instance'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:6:in `block (3 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run_machine'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:5:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:08:50] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:08:50] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:08:50] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:08:50] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:08:50] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:08:50] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:08:50] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:08:56] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:08:56] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:08:56] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:08:56] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:08:57] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:08:57] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:09:12] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:09:12] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:09:12] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:09:12] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:09:12] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:09:12] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:09:12] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:09:18] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:09:18] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:09:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:09:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:09:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:09:18] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:09:18] ERROR Adhearsion::Initializer: <RuntimeError> eventmachine not initialized: evma_connect_to_server
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:664:in `connect_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:664:in `bind_connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:640:in `connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-websocket-0.4.6/lib/faye/websocket/client.rb:19:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:51:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:51:in `connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:26:in `usable?'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:11:in `usable?'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/transport.rb:82:in `block in get'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:103:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:103:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:110:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:110:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:117:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:117:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:119:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:119:in `async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/transport.rb:97:in `get'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/protocol/client.rb:311:in `select_transport'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/protocol/client.rb:35:in `initialize'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `new'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `instance'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:6:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:10:02] DEBUG Celluloid: Terminating 9 actors...
[2013-02-02 13:10:02] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:10:02] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:10:02] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:10:02] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:10:08] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:10:08] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:10:08] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:10:08] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:10:08] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:10:08] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:10:08] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:10:08] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:10:08] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:10:58] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:10:58] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:10:58] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:10:58] ERROR Adhearsion::PunchblockPlugin::Initializer: <Celluloid::DeadActorError> attempted to call a dead actor
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:67:in `log_state_change'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `evaluate_method'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:191:in `block in run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:159:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:413:in `before'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `block in run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `block in pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:126:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block (2 levels) in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:181:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:220:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:2194:in `transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:219:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:180:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:62:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:212:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:167:in `fire'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:236:in `block in add_actions'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `block (2 levels) in define_helper'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:109:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:119:in `rescue in connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:112:in `connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block (2 levels) in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:10:58] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:11:04] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:11:04] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:11:04] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:11:04] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:04] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:04] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:11:04] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:11:04] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:11:04] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:11:27] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:11:27] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 13:11:27] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:11:27] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:11:27] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 13:11:27] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 13:11:27] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 13:11:27] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 13:11:27] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:11:33] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:11:33] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:11:34] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:11:34] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:34] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:34] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:11:34] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:11:34] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:11:34] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:11:36] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:11:36] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:11:36] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:11:36] ERROR Adhearsion::PunchblockPlugin::Initializer: <Celluloid::DeadActorError> attempted to call a dead actor
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:67:in `log_state_change'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `evaluate_method'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:191:in `block in run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:159:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:413:in `before'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `block in run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `block in pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:126:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block (2 levels) in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:181:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:220:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:2194:in `transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:219:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:180:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:62:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:212:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:167:in `fire'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:236:in `block in add_actions'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `block (2 levels) in define_helper'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:109:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:119:in `rescue in connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:112:in `connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block (2 levels) in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:11:36] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:11:51] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:11:51] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:11:51] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:11:51] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:51] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:11:51] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:12:03] DEBUG Celluloid: Terminating 9 actors...
[2013-02-02 13:12:03] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:03] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:03] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:12:03] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:12:18] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:12:18] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:12:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:12:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:12:18] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:12:18] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:12:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:12:18] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:12:18] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:12:21] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:12:21] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:21] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:21] ERROR Adhearsion::PunchblockPlugin::Initializer: <Celluloid::DeadActorError> attempted to call a dead actor
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:67:in `log_state_change'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `evaluate_method'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:191:in `block in run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:159:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:413:in `before'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `block in run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `block in pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:126:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block (2 levels) in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:181:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:220:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:2194:in `transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:219:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:180:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:62:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:212:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:167:in `fire'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:236:in `block in add_actions'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `block (2 levels) in define_helper'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:109:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:119:in `rescue in connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:112:in `connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block (2 levels) in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:12:21] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:12:46] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:12:46] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:12:47] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:12:47] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:12:47] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:12:47] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:12:47] ERROR Adhearsion::Initializer: <RuntimeError> eventmachine not initialized: evma_connect_to_server
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:664:in `connect_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:664:in `bind_connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/eventmachine-1.0.0/lib/eventmachine.rb:640:in `connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-websocket-0.4.6/lib/faye/websocket/client.rb:19:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:51:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:51:in `connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:26:in `usable?'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/web_socket.rb:11:in `usable?'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/transport.rb:82:in `block in get'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:103:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:103:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:110:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:110:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:117:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:117:in `block in async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:119:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye.rb:119:in `async_each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/transport/transport.rb:97:in `get'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/protocol/client.rb:311:in `select_transport'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/faye-0.8.8/lib/faye/protocol/client.rb:35:in `initialize'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `new'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:15:in `instance'
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:6:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:12:57] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:12:57] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:12:57] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:12:57] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:57] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:12:57] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:12:57] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:13:11] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:13:11] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:13:11] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:13:11] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:13:11] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:13:11] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:13:15] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:13:15] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:13:15] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:13:15] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:13:15] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:13:15] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:13:15] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:23:44] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:23:44] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:23:45] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:23:45] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:23:45] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:23:45] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:23:45] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:23:45] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:23:45] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000004", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359807833.4", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="bf827a18-9aa7-4179-aab1-797295cd88d5"
[2013-02-02 13:23:53] INFO  Adhearsion::Router: Call bf827a18-9aa7-4179-aab1-797295cd88d5 selected route "default" (DemoController)
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"402873545", :command=>"EXEC RINGING"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"402873545", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"a4150abc-95b6-4b50-b174-cc596c883151", :result=>"200%20result%3D0%0A"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] INFO  Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing controller #<DemoController call=bf827a18-9aa7-4179-aab1-797295cd88d5, metadata={}>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Offer to="123", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000004", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359807833.4", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"123", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"123", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374081536"}, call_id="bf827a18-9aa7-4179-aab1-797295cd88d5"
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing command #<Punchblock::Command::Answer headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"1552097407", :command=>"ANSWER"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"1552097407", :command=>"ANSWER", :resultcode=>"200", :result=>"Success"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"d2868c69-2cdb-49ca-bbb3-bd076d7a45e1", :result=>"200%20result%3D0%0A"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/demo-menu"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 13:23:53] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"934819985", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/demo-menu\""}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"RTPAUDIOQOS", :value=>"ssrc=618544138;themssrc=1543745078;lp=0;rxjitter=0.002719;rxcount=93;txjitter=0.000000;txcount=82;rlp=0;rtt=0.000000", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"RTPAUDIOQOSJITTER", :value=>"minrxjitter=0.000000;maxrxjitter=0.000000;avgrxjitter=0.000000;stdevrxjitter=0.000000;reported_minjitter=0.000000;reported_maxjitter=0.000000;reported_avgjitter=0.000000;reported_stdevjitter=0.000000;", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"RTPAUDIOQOSLOSS", :value=>"minrxlost=0.000000;maxrxlost=0.000000;avgrxlost=0.000000;stdevrxlost=0.000000;reported_minlost=0.000000;reported_maxlost=0.000000;reported_avglost=0.000000;reported_stdevlost=0.000000;", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"RTPAUDIOQOSRTT", :value=>"minrtt=0.000000;maxrtt=0.000000;avgrtt=0.000000;stdevrtt=0.000000;", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="HangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"934819985", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/demo-menu\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"cce3787e-5e53-429f-9858-08110183de84", :result=>"200%20result%3D-1%0A"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000004%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359807833.4%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20123%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374081536%0A%0A"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359807833.4", :cause=>"16"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359807833.4"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359807833.4", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"0", :cause_txt=>"Unknown"}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Hangup name=:hangup, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id="ac80a18d-8236-467a-b18e-c3a2cbce662a", target_mixer_name=nil>, recording=nil, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id="ac80a18d-8236-467a-b18e-c3a2cbce662a", target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id="51aef638-c7f6-4d53-ab61-0cf11e33e638", target_mixer_name=nil>, recording=nil, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id="51aef638-c7f6-4d53-ab61-0cf11e33e638", target_mixer_name=nil>
[2013-02-02 13:23:55] DEBUG Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="bf827a18-9aa7-4179-aab1-797295cd88d5", component_id=nil, target_mixer_name=nil>
[2013-02-02 13:23:55] INFO  Adhearsion::Call: bf827a18-9aa7-4179-aab1-797295cd88d5: Call ended
[2013-02-02 13:24:00] ERROR Celluloid: Punchblock::Translator::Asterisk::Component::Input crashed!
Celluloid::DeadActorError: attempted to call a dead actor
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/asterisk/component/input.rb:26:in `unregister_dtmf_event_handler'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/input_component.rb:101:in `complete'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/input_component.rb:67:in `block in begin_initial_timer'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 13:24:00] ERROR Adhearsion::Initializer: <Celluloid::DeadActorError> attempted to call a dead actor
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/asterisk/component/input.rb:26:in `unregister_dtmf_event_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/input_component.rb:101:in `complete'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/punchblock-1.8.0/lib/punchblock/translator/input_component.rb:67:in `block in begin_initial_timer'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 13:31:21] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:31:21] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:31:21] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:31:21] ERROR Adhearsion::PunchblockPlugin::Initializer: <Celluloid::DeadActorError> attempted to call a dead actor
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:66:in `rescue in call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:63:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/proxies/actor_proxy.rb:102:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:67:in `log_state_change'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/eval_helpers.rb:56:in `evaluate_method'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:191:in `block in run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:190:in `run_methods'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/callback.rb:159:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:413:in `before'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `block in run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `block in pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:341:in `pausable'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:239:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:126:in `run_callbacks'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block (2 levels) in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:63:in `block in perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:181:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:220:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `block in within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:2194:in `transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:1843:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:219:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:180:in `within_transaction'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition_collection.rb:62:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/transition.rb:212:in `perform'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:167:in `fire'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/event.rb:236:in `block in add_actions'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/state_machine-1.1.2/lib/state_machine/machine.rb:753:in `block (2 levels) in define_helper'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/process.rb:109:in `method_missing'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:119:in `rescue in connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:112:in `connect_to_server'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block (2 levels) in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/punchblock_plugin/initializer.rb:104:in `block in connect'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:31:21] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:41:21] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:41:21] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:41:21] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:41:21] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:41:21] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:41:21] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:41:21] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:41:21] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:41:21] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:42:17] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 13:42:17] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 13:42:17] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:42:17] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 13:42:17] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:42:17] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:42:17] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 13:42:17] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 13:42:17] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 13:42:17] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 13:42:17] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 13:42:17] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 13:42:17] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:42:27] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:42:27] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:42:27] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:42:27] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:42:27] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:42:27] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:42:27] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 13:42:27] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 13:42:27] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 13:43:22] INFO  RubyAMI::Client: Client socket closed!
[2013-02-02 13:43:22] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:43:22] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:43:22] INFO  Adhearsion::Process: Transitioning from running to booting with 0 active calls due to reset event.
[2013-02-02 13:43:22] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:43:26] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 13:43:26] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 13:43:26] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:43:26] DEBUG Celluloid: Terminating 9 actors...
[2013-02-02 13:43:26] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 13:43:35] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 13:43:35] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 13:43:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 13:43:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:43:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 13:43:36] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 13:43:36] ERROR Adhearsion::Initializer: <NoMethodError> undefined method `name' for #<Punchblock::Connection::Connected:0x007fd383ca6ee0>
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:4:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 13:43:38] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:43:43] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:43:45] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:43:48] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:43:53] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:43:56] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:44:07] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:48:37] INFO  Adhearsion: Event PeerStatus received
[2013-02-02 13:49:44] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 13:49:44] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 13:49:44] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 13:49:44] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:49:44] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 13:49:44] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 13:49:44] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:03:35] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:03:35] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:03:35] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:03:35] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:03:35] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:03:35] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:03:35] ERROR Adhearsion::Initializer: <NoMethodError> undefined method `name' for #<Punchblock::Connection::Connected:0x007fe55e9e9990>
	/Users/luca/projects/fosdem2013/ahn/lib/events.rb:4:in `block (2 levels) in <top (required)>'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:105:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:86:in `call_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:91:in `block (3 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:87:in `block (2 levels) in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `each'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `find'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:85:in `block in trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/has-guarded-handlers-1.5.0/lib/has_guarded_handlers.rb:84:in `trigger_handler'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:65:in `handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:58:in `work'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/events.rb:53:in `block in reinitialize_queue!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/work_queue.rb:147:in `block (2 levels) in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:86:in `block in spawn_link'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:69:in `block (2 levels) in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `block in initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:377:in `watchdog'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:212:in `initialize'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `new'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/girl_friday-0.11.2/lib/girl_friday/actor.rb:66:in `block in spawn'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 14:03:49] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 14:03:49] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 14:03:49] INFO  Adhearsion::Process: Transitioning from booting to force_stopped with 0 active calls due to shutdown event.
[2013-02-02 14:03:49] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 14:03:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:03:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:03:49] ERROR Adhearsion::PunchblockPlugin::Initializer: Connection lost. Attempting reconnect 1 of Infinity
[2013-02-02 14:03:49] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:03:59] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:03:59] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:04:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:04:00] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:04:00] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:04:00] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:04:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:04:00] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:04:00] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000000", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810253.0", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495"
[2013-02-02 14:04:14] ERROR Adhearsion::PunchblockPlugin::Initializer: Event received for inactive call f9dc28c6-9abe-4bdf-9af3-75707ceb7495: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :context=>"default", :extension=>"456", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810253.0"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] INFO  Adhearsion::Router: Call f9dc28c6-9abe-4bdf-9af3-75707ceb7495 selected route "auth" (AuthController)
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000000", :commandid=>"6be8d6c8-8f5f-4d0c-9b7e-c2353106757d", :result=>"200%20result%3D0%0A"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000000", :commandid=>"918025260", :command=>"EXEC RINGING"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] INFO  Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Executing controller #<AuthController call=f9dc28c6-9abe-4bdf-9af3-75707ceb7495, metadata={}>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000", :commandid=>"918025260", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000000", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810253.0", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495"
[2013-02-02 14:04:14] ERROR Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: <NameError> undefined local variable or method `config' for #<AuthController:0x007f9f5a3cf158>
	/Users/luca/projects/fosdem2013/ahn/lib/auth_controller.rb:15:in `authenticate_with_pin'
	/Users/luca/projects/fosdem2013/ahn/lib/auth_controller.rb:5:in `run'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:106:in `execute!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:81:in `block in exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:80:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:80:in `exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:97:in `exec_with_callback'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:91:in `block (2 levels) in bg_exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:90:in `block in bg_exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Finished executing controller #<AuthController call=f9dc28c6-9abe-4bdf-9af3-75707ceb7495, metadata={}>
[2013-02-02 14:04:14] INFO  Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Hanging up
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810253.0"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000000", :uniqueid=>"1359810253.0", :cause=>"16"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810253.0"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000000", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810253.0"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000000", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000000%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359810253.0%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20456%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000000"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000000", :uniqueid=>"1359810253.0", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] DEBUG Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="f9dc28c6-9abe-4bdf-9af3-75707ceb7495", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:14] INFO  Adhearsion::Call: f9dc28c6-9abe-4bdf-9af3-75707ceb7495: Call ended
[2013-02-02 14:04:48] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:04:48] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:04:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:04:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:04:48] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:04:48] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:04:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:04:48] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:04:48] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000001", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810292.1", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b"
[2013-02-02 14:04:53] INFO  Adhearsion::Router: Call c1e96bd6-381a-4c4e-bc17-393ef6ceb21b selected route "auth" (AuthController)
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :commandid=>"1465818969", :command=>"EXEC RINGING"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001", :commandid=>"1465818969", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] INFO  Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing controller #<AuthController call=c1e96bd6-381a-4c4e-bc17-393ef6ceb21b, metadata={}>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000001", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810292.1", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b"
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000001", :commandid=>"20ec09e9-ab74-4225-b3a5-55b3b645bb7b", :result=>"200%20result%3D0%0A"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001", :commandid=>"150949696", :command=>"EXEC Progress", :resultcode=>"200", :result=>"Success"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000001", :commandid=>"765467f8-b625-4ab5-8377-d04e1806f698", :result=>"200%20result%3D0%0A"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :commandid=>"150949696", :command=>"EXEC Progress"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:53] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :commandid=>"1574264580", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\""}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001", :commandid=>"1574264580", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810292.1"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000001", :commandid=>"2e548f27-1911-457b-88fc-2e5b02e5919d", :result=>"200%20result%3D0%0A"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="37eb6c86-67b7-4511-afa2-47ad1877bc9c", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="37eb6c86-67b7-4511-afa2-47ad1877bc9c", target_mixer_name=nil>
[2013-02-02 14:04:56] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Stop name=:stop, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="e8b7c727-30a2-4a92-9325-3f753531010f", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="e8b7c727-30a2-4a92-9325-3f753531010f", target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"1", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"1", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-1", utterance="1", name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="6b6662a6-4d24-47ce-baa3-b1e9081fc512", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="6b6662a6-4d24-47ce-baa3-b1e9081fc512", target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="1e97400c-8740-41d4-9e11-13109f6deb6c", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="1e97400c-8740-41d4-9e11-13109f6deb6c", target_mixer_name=nil>
[2013-02-02 14:04:57] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="68593563-a023-47d3-b1d9-bb688c6fcf2a", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="68593563-a023-47d3-b1d9-bb688c6fcf2a", target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/balance"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="55b78b52-3d50-44ad-8dbb-c7898819db45", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="55b78b52-3d50-44ad-8dbb-c7898819db45", target_mixer_name=nil>
[2013-02-02 14:04:58] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :commandid=>"2060951241", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\""}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810292.1"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Finished executing controller #<AuthController call=c1e96bd6-381a-4c4e-bc17-393ef6ceb21b, metadata={}>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000001", :commandid=>"5a735626-2043-4a9b-9e95-f24b183bb528", :result=>"200%20result%3D0%0A"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001", :commandid=>"2060951241", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] INFO  Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Hanging up
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="2a2ea63a-7aa8-43a4-ad96-9beba084c053", target_mixer_name=nil>, recording=nil, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id="2a2ea63a-7aa8-43a4-ad96-9beba084c053", target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810292.1"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :cause=>"16"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000001", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000001%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359810292.1%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20456%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810292.1"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000001"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000001", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810292.1"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000001", :uniqueid=>"1359810292.1", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] DEBUG Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="c1e96bd6-381a-4c4e-bc17-393ef6ceb21b", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:05:01] INFO  Adhearsion::Call: c1e96bd6-381a-4c4e-bc17-393ef6ceb21b: Call ended
[2013-02-02 14:07:05] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 14:07:05] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 14:07:05] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 14:07:05] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 14:07:05] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:07:05] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:07:05] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:07:05] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 14:07:05] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 14:07:05] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:07:05] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 14:07:05] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 14:07:06] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:07:15] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:07:15] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:07:15] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:07:15] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:07:15] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:07:15] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:07:16] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:07:16] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:07:16] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000002", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810439.2", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5"
[2013-02-02 14:07:19] INFO  Adhearsion::Router: Call 86cadf86-391c-4a58-8be7-1c4f5b7d27f5 selected route "auth" (AuthController)
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000002", :commandid=>"a031687b-532c-4adc-97cc-8cac21aaccad", :result=>"200%20result%3D0%0A"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] INFO  Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing controller #<AuthController call=86cadf86-391c-4a58-8be7-1c4f5b7d27f5, metadata={}>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002", :commandid=>"736092443", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :commandid=>"736092443", :command=>"EXEC RINGING"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000002", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810439.2", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5"
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000002", :commandid=>"e7c1a9dc-d413-4724-9efd-9b0c10d30e38", :result=>"200%20result%3D0%0A"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :commandid=>"1401065037", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\""}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002", :commandid=>"307471748", :command=>"EXEC Progress", :resultcode=>"200", :result=>"Success"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:19] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :commandid=>"307471748", :command=>"EXEC Progress"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002", :commandid=>"1401065037", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810439.2"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000002", :commandid=>"61df7be7-e82f-4e88-bb9f-1cf22b440958", :result=>"200%20result%3D0%0A"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="41e2076c-a140-4da1-af8d-65982a2d1f62", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="41e2076c-a140-4da1-af8d-65982a2d1f62", target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Stop name=:stop, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="d81f08b9-e11b-448a-92dd-a95d985d2d19", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="d81f08b9-e11b-448a-92dd-a95d985d2d19", target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"1", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"1", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:22] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-1", utterance="1", name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="faaae9ef-c56f-46d4-99db-606f91f9be56", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="faaae9ef-c56f-46d4-99db-606f91f9be56", target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="7e9b5f20-e37c-49d5-9979-dd4cc153a15f", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="7e9b5f20-e37c-49d5-9979-dd4cc153a15f", target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="c7d1f21a-8cb7-46a1-b40c-191eb6ef688a", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="c7d1f21a-8cb7-46a1-b40c-191eb6ef688a", target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"4", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :digit=>"4", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:23] INFO  Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: STATUS IS ok
[2013-02-02 14:07:23] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/balance"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:07:24] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-4", utterance="4", name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="e9d8e5ea-34c1-49b6-8bae-23aa4c43f417", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="e9d8e5ea-34c1-49b6-8bae-23aa4c43f417", target_mixer_name=nil>
[2013-02-02 14:07:24] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :commandid=>"1252011374", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\""}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:26] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810439.2"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:26] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002", :commandid=>"1252011374", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:26] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000002", :commandid=>"a4a8ae82-6852-48cd-8c05-142e22daf12f", :result=>"200%20result%3D0%0A"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:26] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Finished executing controller #<AuthController call=86cadf86-391c-4a58-8be7-1c4f5b7d27f5, metadata={}>
[2013-02-02 14:07:26] INFO  Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Hanging up
[2013-02-02 14:07:26] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="f7e2c9ab-6cdb-49db-ab03-66a6c100d86f", target_mixer_name=nil>, recording=nil, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id="f7e2c9ab-6cdb-49db-ab03-66a6c100d86f", target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810439.2"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810439.2"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :cause=>"16"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000002"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000002", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000002%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359810439.2%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20456%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000002", :uniqueid=>"1359810439.2", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000002", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810439.2"}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] DEBUG Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="86cadf86-391c-4a58-8be7-1c4f5b7d27f5", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:07:27] INFO  Adhearsion::Call: 86cadf86-391c-4a58-8be7-1c4f5b7d27f5: Call ended
[2013-02-02 14:08:48] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 14:08:48] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 14:08:48] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 14:08:48] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 14:08:48] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:08:48] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:08:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:08:48] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 14:08:48] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 14:08:48] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:08:48] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 14:08:48] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 14:08:48] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:08:59] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:08:59] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:08:59] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:08:59] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:08:59] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:08:59] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:08:59] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:08:59] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:08:59] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000003", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810610.3", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0"
[2013-02-02 14:10:11] INFO  Adhearsion::Router: Call bd08233f-43ca-4d09-9953-fabf18eb9df0 selected route "auth" (AuthController)
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :commandid=>"463880951", :command=>"EXEC RINGING"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003", :commandid=>"463880951", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000003", :commandid=>"94f0d045-77c3-468f-a5d2-487fb23822af", :result=>"200%20result%3D0%0A"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] INFO  Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing controller #<AuthController call=bd08233f-43ca-4d09-9953-fabf18eb9df0, metadata={}>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000003", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810610.3", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0"
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000003", :commandid=>"4fda70af-de81-4e68-aaf0-6aa9141244a6", :result=>"200%20result%3D0%0A"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :commandid=>"192298614", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\""}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :commandid=>"707721107", :command=>"EXEC Progress"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:11] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003", :commandid=>"707721107", :command=>"EXEC Progress", :resultcode=>"200", :result=>"Success"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"1", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"1", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-1", utterance="1", name=:success, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="e8add5d8-84eb-4997-9fea-7aef9d30621c", target_mixer_name=nil>, recording=nil, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="e8add5d8-84eb-4997-9fea-7aef9d30621c", target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003", :commandid=>"192298614", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810610.3"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000003", :commandid=>"6964e556-6aaa-4dac-a502-35ce963e19ba", :result=>"200%20result%3D-1%0A"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810610.3"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000003", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000003%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359810610.3%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20456%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20adhearsion-redirect%0Aagi_extension%3A%201%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :context=>"adhearsion-redirect", :extension=>"1", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810610.3"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="29ce9513-4f7e-4ed1-9d73-1a34355e0146", target_mixer_name=nil>, recording=nil, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="29ce9513-4f7e-4ed1-9d73-1a34355e0146", target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:13] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="3b70c672-1954-4ac5-85b8-0baf3c6a297c", target_mixer_name=nil>, recording=nil, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="3b70c672-1954-4ac5-85b8-0baf3c6a297c", target_mixer_name=nil>
[2013-02-02 14:10:14] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:14] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:14] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:14] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="90ec0d5d-0cb0-4e47-9a3d-470a8aa201f4", target_mixer_name=nil>, recording=nil, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="90ec0d5d-0cb0-4e47-9a3d-470a8aa201f4", target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] ERROR Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: <JSON::ParserError> 399: unexpected token at ':auth, false]'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/json-1.7.6/lib/json/common.rb:155:in `parse'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/json-1.7.6/lib/json/common.rb:155:in `parse'
	/Users/luca/projects/fosdem2013/ahn/lib/auth_controller.rb:28:in `check_pin'
	/Users/luca/projects/fosdem2013/ahn/lib/auth_controller.rb:17:in `authenticate_with_pin'
	/Users/luca/projects/fosdem2013/ahn/lib/auth_controller.rb:5:in `run'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:106:in `execute!'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:81:in `block in exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:80:in `catch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:80:in `exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:97:in `exec_with_callback'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:91:in `block (2 levels) in bg_exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/foundation/exception_handler.rb:5:in `catching_standard_errors'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/call_controller.rb:90:in `block in bg_exec'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `call'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in `block in create_with_logging_context'
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="94a8474a-5f03-4ad3-8314-a93003ee4f68", target_mixer_name=nil>, recording=nil, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id="94a8474a-5f03-4ad3-8314-a93003ee4f68", target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Finished executing controller #<AuthController call=bd08233f-43ca-4d09-9953-fabf18eb9df0, metadata={}>
[2013-02-02 14:10:16] INFO  Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Hanging up
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000003"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000003", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810610.3"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :cause=>"16"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000003", :uniqueid=>"1359810610.3", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] DEBUG Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="bd08233f-43ca-4d09-9953-fabf18eb9df0", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:10:16] INFO  Adhearsion::Call: bd08233f-43ca-4d09-9953-fabf18eb9df0: Call ended
[2013-02-02 14:10:49] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 14:10:49] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 14:10:49] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 14:10:49] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 14:10:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:10:49] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:10:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:10:49] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 14:10:49] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 14:10:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:10:49] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 14:10:49] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 14:10:49] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:10:58] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:10:58] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:10:58] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:10:58] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:10:59] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:10:59] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:10:59] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:10:59] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:10:59] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: : Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000004", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810660.4", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c"
[2013-02-02 14:11:01] INFO  Adhearsion::Router: Call 555f279c-e33b-4b1d-9b97-81ca05ae8d6c selected route "auth" (AuthController)
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Command::Accept headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:01] INFO  Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing controller #<AuthController call=555f279c-e33b-4b1d-9b97-81ca05ae8d6c, metadata={}>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"2117978035", :command=>"EXEC RINGING"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"2117978035", :command=>"EXEC RINGING", :resultcode=>"200", :result=>"Success"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Offer to="456", from="Luca Pradovera <SIP/100>", headers={:x_agi_request=>"async", :x_agi_channel=>"SIP/100-00000004", :x_agi_language=>"en", :x_agi_type=>"SIP", :x_agi_uniqueid=>"1359810660.4", :x_agi_version=>"10.7.0", :x_agi_callerid=>"100", :x_agi_calleridname=>"Luca Pradovera", :x_agi_callingpres=>"0", :x_agi_callingani2=>"0", :x_agi_callington=>"0", :x_agi_callingtns=>"0", :x_agi_dnid=>"456", :x_agi_rdnis=>"unknown", :x_agi_context=>"default", :x_agi_extension=>"456", :x_agi_priority=>"1", :x_agi_enhanced=>"0.0", :x_agi_accountcode=>"", :x_agi_threadid=>"4374097920"}, call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c"
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"f24d5488-8568-45af-b480-5b6158bb80ce", :result=>"200%20result%3D0%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"923260303", :command=>"EXEC Progress", :resultcode=>"200", :result=>"Success"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"923260303", :command=>"EXEC Progress"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"1217222849", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\""}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:01] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"83bfefba-c03c-4f9a-b38c-58e19473fe92", :result=>"200%20result%3D0%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"1", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"1", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-1", utterance="1", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="c5d4d680-6a47-475c-830a-e509ee312cf3", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="c5d4d680-6a47-475c-830a-e509ee312cf3", target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"1217222849", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"0715bc00-e1a9-4a72-a323-6e23d7672886", :result=>"200%20result%3D-1%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :context=>"adhearsion-redirect", :extension=>"1", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000004%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359810660.4%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20100%0Aagi_calleridname%3A%20Luca%20Pradovera%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20456%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20adhearsion-redirect%0Aagi_extension%3A%201%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Stop name=:stop, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="04fe76e5-deb6-4645-afa6-8416befe7dfe", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="04fe76e5-deb6-4645-afa6-8416befe7dfe", target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:03] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="05f2a421-214a-4283-8624-02328efdabb6", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="05f2a421-214a-4283-8624-02328efdabb6", target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="26f0cb1e-deea-499a-bad0-7bb3102ae706", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="26f0cb1e-deea-499a-bad0-7bb3102ae706", target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/pin-wrong-retry"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="297a31e2-30b1-4e93-a166-8bcbc3d95240", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="297a31e2-30b1-4e93-a166-8bcbc3d95240", target_mixer_name=nil>
[2013-02-02 14:11:04] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"585804812", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/pin-wrong-retry,noanswer\""}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=nil, inter_digit_timeout=nil, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"585804812", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/pin-wrong-retry,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"5c757439-72ef-4e8e-9f35-74df59484bcb", :result=>"200%20result%3D0%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="4705941d-7d98-456c-9ccf-48b749fceed9", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="4705941d-7d98-456c-9ccf-48b749fceed9", target_mixer_name=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:11:07] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"1123532134", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\""}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"7fbc6e9c-c58b-47c1-b5c6-e346ad7185c3", :result=>"200%20result%3D0%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"1123532134", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/please-enter-pin,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="a4088e59-4756-4042-bf96-418efc2733c4", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="a4088e59-4756-4042-bf96-418efc2733c4", target_mixer_name=nil>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:10] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Stop name=:stop, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="ce2acd31-a739-486d-a6f5-9b63aa441e6d", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="ce2acd31-a739-486d-a6f5-9b63aa441e6d", target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"1", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"1", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-1", utterance="1", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="9f9974ae-64b3-4b53-bdc8-03921163954a", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="9f9974ae-64b3-4b53-bdc8-03921163954a", target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"2", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-2", utterance="2", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="4c708c15-e3d2-4bd8-a920-c35b3d1a384f", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="4c708c15-e3d2-4bd8-a920-c35b3d1a384f", target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"3", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:13] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Input mode=:dtmf, terminator=nil, recognizer=nil, initial_timeout=5000, inter_digit_timeout=5000, sensitivity=nil, min_confidence=nil, grammar=#<Punchblock::Component::Input::Grammar content_type="application/srgs+xml", value=<grammar xmlns="http://www.w3.org/2001/06/grammar" version="1.0" xml:lang="en-US" mode="dtmf" root="inputdigits">
  <rule id="inputdigits" scope="public">
    <one-of>
      <item>0</item>
      <item>1</item>
      <item>2</item>
      <item>3</item>
      <item>4</item>
      <item>5</item>
      <item>6</item>
      <item>7</item>
      <item>8</item>
      <item>9</item>
      <item>#</item>
      <item>*</item>
    </one-of>
  </rule>
</grammar>, url=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil>, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"3", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-3", utterance="3", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="a131008e-a536-480a-9347-aad20b14d31a", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="a131008e-a536-480a-9347-aad20b14d31a", target_mixer_name=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"4", :direction=>"Received", :begin=>"Yes", :end=>"No"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="DTMF", attributes_hash={:privilege=>"dtmf,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :digit=>"4", :direction=>"Received", :begin=>"No", :end=>"Yes"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/balance"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Input::Complete::Success mode=:dtmf, confidence=1.0, interpretation="dtmf-4", utterance="4", name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="2bd5ae24-4a61-40a4-a517-7fe393857f78", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="2bd5ae24-4a61-40a4-a517-7fe393857f78", target_mixer_name=nil>
[2013-02-02 14:11:14] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000004", :commandid=>"912646871", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\""}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000004", :commandid=>"350495f9-8210-457d-a520-7ea0e9a78cc2", :result=>"200%20result%3D0%0A"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Finished executing controller #<AuthController call=555f279c-e33b-4b1d-9b97-81ca05ae8d6c, metadata={}>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004", :commandid=>"912646871", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/balance,noanswer\"", :resultcode=>"200", :result=>"Success"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] INFO  Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Hanging up
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="05b48915-f672-449a-b34f-a96a2a1a7139", target_mixer_name=nil>, recording=nil, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id="05b48915-f672-449a-b34f-a96a2a1a7139", target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000004"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000004", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359810660.4"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :cause=>"16"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000004", :uniqueid=>"1359810660.4", :calleridnum=>"100", :calleridname=>"Luca Pradovera", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] DEBUG Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="555f279c-e33b-4b1d-9b97-81ca05ae8d6c", component_id=nil, target_mixer_name=nil>
[2013-02-02 14:11:17] INFO  Adhearsion::Call: 555f279c-e33b-4b1d-9b97-81ca05ae8d6c: Call ended
[2013-02-02 14:50:05] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 14:50:05] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 14:50:05] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 14:50:05] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 14:50:05] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:50:05] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 14:50:05] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:50:05] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 14:50:05] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 14:50:05] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 14:50:05] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 14:50:05] DEBUG Celluloid: Terminating 8 actors...
[2013-02-02 14:50:05] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 14:50:35] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 14:50:35] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 14:50:35] WARN  NilClass: Virginia has been loaded
[2013-02-02 14:50:36] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 14:50:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 14:50:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:50:36] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 14:50:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 14:50:36] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 14:50:36] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 14:50:37] INFO  Virginia::LoggingHandler: <Reel::Request> #<Reel::Request:0x007f7ffcc46f20>
[2013-02-02 14:50:37] INFO  Virginia::LoggingHandler: <Reel::Request> #<Reel::Request:0x007f7ffdb4bde0>
[2013-02-02 15:14:09] INFO  Virginia::LoggingHandler: <Reel::Request> #<Reel::Request:0x007f7ffada6958>
[2013-02-02 15:14:10] INFO  Virginia::LoggingHandler: <Reel::Request> #<Reel::Request:0x007f7ffa9d5478>
[2013-02-02 15:14:18] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:14:18] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:14:18] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:14:18] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:14:18] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:14:18] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:14:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:14:18] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:14:18] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:14:18] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:14:18] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:14:18] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:14:18] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:23:23] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:23:23] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:23:23] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:23:24] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:23:24] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:23:24] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:23:24] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:23:24] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:23:24] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:23:24] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:23:25] INFO  Adhearsion: /
[2013-02-02 15:23:25] INFO  Adhearsion: GET
[2013-02-02 15:23:25] ERROR Celluloid: Reel::Server crashed!
TypeError: invalid response: true
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/connection.rb:129:in `respond'
/Users/luca/projects/virginia/lib/virginia/service.rb:11:in `block in start'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:23:25] ERROR Adhearsion::Initializer: <TypeError> invalid response: true
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/connection.rb:129:in `respond'
	/Users/luca/projects/virginia/lib/virginia/service.rb:11:in `block in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:23:36] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:23:36] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:23:36] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:23:36] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:23:36] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:23:36] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:23:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:23:36] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:23:36] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:23:36] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:23:36] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:23:36] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:23:36] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:24:05] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:24:05] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:24:05] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:24:06] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:24:06] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:24:06] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:24:06] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:24:06] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:24:06] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:24:06] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:24:11] INFO  Adhearsion: /
[2013-02-02 15:24:11] INFO  Adhearsion: GET
[2013-02-02 15:24:11] INFO  Adhearsion: /favicon.ico
[2013-02-02 15:24:11] INFO  Adhearsion: GET
[2013-02-02 15:24:14] INFO  Adhearsion: /
[2013-02-02 15:24:14] INFO  Adhearsion: GET
[2013-02-02 15:24:14] INFO  Adhearsion: /favicon.ico
[2013-02-02 15:24:14] INFO  Adhearsion: GET
[2013-02-02 15:30:38] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:30:38] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:30:38] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:30:38] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:30:38] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:30:38] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:30:38] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:30:38] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:30:38] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:30:38] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:30:38] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:30:38] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:30:38] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:30:49] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:30:49] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:30:49] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:30:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:30:49] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:30:49] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:30:49] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:30:49] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:30:49] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:30:49] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:30:55] ERROR Celluloid: Reel::Server crashed!
NoMethodError: private method `delete' called for ConnectingController:Class
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:27:in `block in originate'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:26:in `tap'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:26:in `originate'
/Users/luca/projects/fosdem2013/ahn/lib/request_handler.rb:4:in `handle'
/Users/luca/projects/virginia/lib/virginia/service.rb:10:in `block in start'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:30:55] ERROR Adhearsion::Initializer: <NoMethodError> private method `delete' called for ConnectingController:Class
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:27:in `block in originate'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:26:in `tap'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:26:in `originate'
	/Users/luca/projects/fosdem2013/ahn/lib/request_handler.rb:4:in `handle'
	/Users/luca/projects/virginia/lib/virginia/service.rb:10:in `block in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:31:04] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:31:04] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:31:04] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:31:04] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:31:04] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:31:04] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:31:04] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:31:04] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:31:04] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:31:04] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:31:04] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:31:04] DEBUG Celluloid: Terminating 11 actors...
[2013-02-02 15:31:04] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:31:53] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:31:53] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:31:53] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:31:53] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:31:53] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:31:53] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:31:53] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:31:53] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:31:53] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:31:53] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:31:57] ERROR Celluloid: Reel::Server crashed!
ArgumentError: wrong number of arguments (3 for 2)
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:25:in `originate'
/Users/luca/projects/fosdem2013/ahn/lib/request_handler.rb:4:in `handle'
/Users/luca/projects/virginia/lib/virginia/service.rb:10:in `block in start'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:31:57] ERROR Adhearsion::Initializer: <ArgumentError> wrong number of arguments (3 for 2)
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/adhearsion-2.2.1/lib/adhearsion/outbound_call.rb:25:in `originate'
	/Users/luca/projects/fosdem2013/ahn/lib/request_handler.rb:4:in `handle'
	/Users/luca/projects/virginia/lib/virginia/service.rb:10:in `block in start'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `[]'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/reel-0.3.0/lib/reel/server.rb:27:in `handle_connection'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `public_send'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/calls.rb:53:in `dispatch'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/actor.rb:327:in `block in handle_message'
	/Users/luca/.rvm/gems/ruby-1.9.3-p327/gems/celluloid-0.12.4/lib/celluloid/tasks/task_fiber.rb:24:in `block in initialize'
[2013-02-02 15:33:00] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:33:00] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:33:00] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:33:00] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:33:00] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:33:00] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:33:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:33:00] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:33:00] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:33:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:33:00] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:33:00] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:33:00] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:33:11] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:33:11] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:33:11] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:33:11] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:33:11] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:33:11] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:33:11] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:33:12] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:33:12] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:33:12] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/100", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"punchblock_call_id", :value=>"e9d0dfa6-0989-4480-b676-40d350e3beed", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :uniqueid=>"1359815594.5", :accountcode=>"", :oldaccountcode=>""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359815594.5", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:14] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"punchblock_call_id", :value=>"e9d0dfa6-0989-4480-b676-40d350e3beed", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :uniqueid=>"1359815594.5", :accountcode=>"", :oldaccountcode=>""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"97f28016-51c3-409c-9b9c-fe3374ddbfb2", :response=>"Success", :channel=>"SIP/100-00000005", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359815594.5", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000005", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000005%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359815594.5%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374618112%0A%0A"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] INFO  Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Executing controller #<Adhearsion::CallController call=e9d0dfa6-0989-4480-b676-40d350e3beed, metadata={}>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">vm-dialout</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/200", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000005", :commandid=>"1469191113", :command=>"EXEC Playback \"vm-dialout\""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"punchblock_call_id", :value=>"df68d024-c475-4713-b5bc-a6c879d8cf2f", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359815597.6", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:17] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:19] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:19] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000005", :commandid=>"1469191113", :command=>"EXEC Playback \"vm-dialout\"", :resultcode=>"200", :result=>"Success"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:19] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000005", :commandid=>"1765987482", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:19] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000005", :commandid=>"355f4996-2332-48a3-a29b-82ab8974b5aa", :result=>"200%20result%3D0%0A"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:19] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id="e1f293ad-061b-4a06-a9c0-5cfe625bde6d", target_mixer_name=nil>, recording=nil, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id="e1f293ad-061b-4a06-a9c0-5cfe625bde6d", target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :uniqueid=>"1359815597.6", :accountcode=>"", :oldaccountcode=>""}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"2267e0cc-9f64-4572-b599-5ca2e6c7b1c8", :response=>"Success", :channel=>"SIP/200-00000006", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359815597.6", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-00000006", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F200-00000006%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359815597.6%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204375138304%0A%0A"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"punchblock_call_id", :value=>"df68d024-c475-4713-b5bc-a6c879d8cf2f", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::CallController::Dial::Dial: #dial joining call df68d024-c475-4713-b5bc-a6c879d8cf2f to e9d0dfa6-0989-4480-b676-40d350e3beed
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Executing command #<Punchblock::Command::Join call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", mixer_name=nil, direction=nil, media=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="MusicOnHold", attributes_hash={:privilege=>"call,all", :state=>"Stop", :channel=>"SIP/100-00000005", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Rename", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :newname=>"SIP/100-00000005<MASQ>", :uniqueid=>"1359815594.5"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-00000006", :commandid=>"25540572", :command=>"EXEC Bridge \"SIP/100-00000005\""}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359815604.7", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000005", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000005<ZOMBIE>", :commandid=>"1765987482", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"Bridge/SIP/100-00000005<ZOMBIE>", :commandid=>"378a4241-d701-4a16-9836-7b1ac361d5bf", :result=>"200%20result%3D-1%0A"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"BRIDGEPEER", :value=>"SIP/200-00000006", :uniqueid=>"1359815604.7"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005", :uniqueid1=>"1359815597.6", :uniqueid2=>"1359815604.7", :callerid1=>"", :callerid2=>""}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005", :uniqueid1=>"1359815597.6", :uniqueid2=>"1359815604.7", :callerid1=>"", :callerid2=>""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :uniqueid=>"1359815604.7", :accountcode=>"", :oldaccountcode=>""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000005<ZOMBIE>"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000005", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"BRIDGEPEER", :value=>"SIP/200-00000006", :uniqueid=>"1359815604.7"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"BRIDGEPVTCALLID", :value=>"4cff33983609fa9f5e31b3ed7e66bbb2@127.0.0.1:5060", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"BRIDGEPVTCALLID", :value=>"73c82d144c308d252c0da2e64a4ccf1e@127.0.0.1:5060", :uniqueid=>"1359815604.7"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id="93b980d1-64e1-4fa2-a737-bd11c4e25fe5", target_mixer_name=nil>, recording=nil, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id="93b980d1-64e1-4fa2-a737-bd11c4e25fe5", target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Joined call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", mixer_name=nil, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:24] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Joined call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", mixer_name=nil, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005", :uniqueid1=>"1359815597.6", :uniqueid2=>"1359815604.7", :callerid1=>"", :callerid2=>""}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-00000006", :channel2=>"SIP/100-00000005", :uniqueid1=>"1359815597.6", :uniqueid2=>"1359815604.7", :callerid1=>"", :callerid2=>""}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"BRIDGERESULT", :value=>"SUCCESS", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="HangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-00000006", :commandid=>"25540572", :command=>"EXEC Bridge \"SIP/100-00000005\"", :resultcode=>"200", :result=>"Success"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-00000006"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/200-00000006", :commandid=>"045c0d9d-faec-4750-addd-2557726db925", :result=>"200%20result%3D0%0A"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000006", :uniqueid=>"1359815597.6", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000006", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359815597.6"}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :uniqueid=>"1359815604.7", :cause=>"16"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359815604.7"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000005"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000005", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000005%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359815604.7%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000005", :uniqueid=>"1359815604.7", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] INFO  Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Call ended
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000005", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359815604.7"}, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Receiving message: #<Punchblock::Event::Unjoined call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", mixer_name=nil, target_call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::Unjoined call_id="e9d0dfa6-0989-4480-b676-40d350e3beed", mixer_name=nil, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] DEBUG Adhearsion::CallController::Dial::Dial: #dial finished. Hanging up 1 outbound calls: df68d024-c475-4713-b5bc-a6c879d8cf2f.
[2013-02-02 15:33:29] INFO  Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Hanging up
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="df68d024-c475-4713-b5bc-a6c879d8cf2f", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:33:29] INFO  Adhearsion::OutboundCall: df68d024-c475-4713-b5bc-a6c879d8cf2f: Call ended
[2013-02-02 15:33:29] INFO  Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Call was hung up
[2013-02-02 15:33:29] DEBUG Adhearsion::OutboundCall: e9d0dfa6-0989-4480-b676-40d350e3beed: Finished executing controller #<Adhearsion::CallController call=e9d0dfa6-0989-4480-b676-40d350e3beed, metadata={}>
[2013-02-02 15:33:50] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:33:50] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:33:50] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:33:50] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:33:50] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:33:50] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:33:50] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:33:50] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:33:50] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:33:50] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:33:50] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:33:50] DEBUG Celluloid: Terminating 12 actors...
[2013-02-02 15:33:50] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:47:00] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:47:00] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:47:00] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:47:00] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:47:00] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:47:00] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:47:00] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:47:01] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:47:01] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:47:01] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/100", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816455.8", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"punchblock_call_id", :value=>"d10b982d-5c98-4c84-80e9-5c44067205ae", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :uniqueid=>"1359816455.8", :accountcode=>"", :oldaccountcode=>""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:35] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"punchblock_call_id", :value=>"d10b982d-5c98-4c84-80e9-5c44067205ae", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :uniqueid=>"1359816455.8", :accountcode=>"", :oldaccountcode=>""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"b1882e40-9732-4206-826c-18e185b57bdf", :response=>"Success", :channel=>"SIP/100-00000007", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359816455.8", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] INFO  Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Executing controller #<Adhearsion::CallController call=d10b982d-5c98-4c84-80e9-5c44067205ae, metadata={}>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000007", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000007%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816455.8%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374618112%0A%0A"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">vm-dialout</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:47:41] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/200", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000007", :commandid=>"761470832", :command=>"EXEC Playback \"vm-dialout\""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"punchblock_call_id", :value=>"b3a939b8-c0cb-4e85-b50f-17e8b482563e", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :uniqueid=>"1359816462.9", :accountcode=>"", :oldaccountcode=>""}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816462.9", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:42] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:44] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000007", :commandid=>"7fbe830f-e34f-4ca3-8aa1-086c0d09cb11", :result=>"200%20result%3D0%0A"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:44] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:44] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000007", :commandid=>"761470832", :command=>"EXEC Playback \"vm-dialout\"", :resultcode=>"200", :result=>"Success"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:44] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000007", :commandid=>"495696286", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:44] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id="04cfb59f-395f-4318-8f8c-b905cd0632af", target_mixer_name=nil>, recording=nil, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id="04cfb59f-395f-4318-8f8c-b905cd0632af", target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"punchblock_call_id", :value=>"b3a939b8-c0cb-4e85-b50f-17e8b482563e", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"fab9135a-21f8-4201-b1af-dea9e990057e", :response=>"Success", :channel=>"SIP/200-00000008", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359816462.9", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-00000008", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F200-00000008%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816462.9%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204375138304%0A%0A"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :uniqueid=>"1359816462.9", :accountcode=>"", :oldaccountcode=>""}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::CallController::Dial::Dial: #dial joining call b3a939b8-c0cb-4e85-b50f-17e8b482563e to d10b982d-5c98-4c84-80e9-5c44067205ae
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Executing command #<Punchblock::Command::Join call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", mixer_name=nil, direction=nil, media=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="MusicOnHold", attributes_hash={:privilege=>"call,all", :state=>"Stop", :channel=>"SIP/100-00000007", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-00000008", :commandid=>"1128748269", :command=>"EXEC Bridge \"SIP/100-00000007\""}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Rename", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :newname=>"SIP/100-00000007<MASQ>", :uniqueid=>"1359816455.8"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816467.10", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"BRIDGEPEER", :value=>"SIP/200-00000008", :uniqueid=>"1359816467.10"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000007", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :uniqueid=>"1359816467.10", :accountcode=>"", :oldaccountcode=>""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000007<ZOMBIE>", :commandid=>"495696286", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"Bridge/SIP/100-00000007<ZOMBIE>", :commandid=>"75bca6c4-1f75-47c6-8014-06006c6fedd6", :result=>"200%20result%3D-1%0A"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007", :uniqueid1=>"1359816462.9", :uniqueid2=>"1359816467.10", :callerid1=>"", :callerid2=>""}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007", :uniqueid1=>"1359816462.9", :uniqueid2=>"1359816467.10", :callerid1=>"", :callerid2=>""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000007<ZOMBIE>"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000007", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"BRIDGEPVTCALLID", :value=>"2586151a1e90d7af7f11fa8d77589e6c@127.0.0.1:5060", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"BRIDGEPEER", :value=>"SIP/200-00000008", :uniqueid=>"1359816467.10"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"BRIDGEPVTCALLID", :value=>"454d8ebc1d29ee23170c46d969f78f52@127.0.0.1:5060", :uniqueid=>"1359816467.10"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id="3cc3ce59-6712-4888-bb11-e473189aec93", target_mixer_name=nil>, recording=nil, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id="3cc3ce59-6712-4888-bb11-e473189aec93", target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Joined call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", mixer_name=nil, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:47] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Joined call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", mixer_name=nil, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="HangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007", :uniqueid1=>"1359816462.9", :uniqueid2=>"1359816467.10", :callerid1=>"", :callerid2=>""}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-00000008", :commandid=>"1128748269", :command=>"EXEC Bridge \"SIP/100-00000007\"", :resultcode=>"200", :result=>"Success"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-00000008", :channel2=>"SIP/100-00000007", :uniqueid1=>"1359816462.9", :uniqueid2=>"1359816467.10", :callerid1=>"", :callerid2=>""}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"BRIDGERESULT", :value=>"SUCCESS", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/200-00000008", :commandid=>"c0202f60-ac21-4e71-8f18-382072e9afe8", :result=>"200%20result%3D0%0A"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-00000008", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359816462.9"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-00000008", :uniqueid=>"1359816462.9", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :uniqueid=>"1359816467.10", :cause=>"16"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359816467.10"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-00000008"}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000007"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000007", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000007%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816467.10%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000007", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359816467.10"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000007", :uniqueid=>"1359816467.10", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::Unjoined call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", mixer_name=nil, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] INFO  Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Call ended
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::Unjoined call_id="d10b982d-5c98-4c84-80e9-5c44067205ae", mixer_name=nil, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] DEBUG Adhearsion::CallController::Dial::Dial: #dial finished. Hanging up 1 outbound calls: b3a939b8-c0cb-4e85-b50f-17e8b482563e.
[2013-02-02 15:47:49] INFO  Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Hanging up
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="b3a939b8-c0cb-4e85-b50f-17e8b482563e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:47:49] INFO  Adhearsion::OutboundCall: b3a939b8-c0cb-4e85-b50f-17e8b482563e: Call ended
[2013-02-02 15:47:49] INFO  Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Call was hung up
[2013-02-02 15:47:49] DEBUG Adhearsion::OutboundCall: d10b982d-5c98-4c84-80e9-5c44067205ae: Finished executing controller #<Adhearsion::CallController call=d10b982d-5c98-4c84-80e9-5c44067205ae, metadata={}>
[2013-02-02 15:48:30] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:48:30] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:48:30] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:48:30] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:48:30] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:48:30] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:48:30] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:48:30] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:48:30] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:48:30] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:48:30] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:48:30] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:48:30] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:48:41] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:48:41] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:48:41] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:48:41] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:48:41] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:48:41] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:48:41] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:48:41] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:48:41] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:48:41] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/100", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"punchblock_call_id", :value=>"52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :uniqueid=>"1359816524.11", :accountcode=>"", :oldaccountcode=>""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816524.11", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:44] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :uniqueid=>"1359816524.11", :accountcode=>"", :oldaccountcode=>""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"87db3903-4c76-4655-b7f6-cf7578cdb1ed", :response=>"Success", :channel=>"SIP/100-00000009", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359816524.11", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"punchblock_call_id", :value=>"52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] INFO  Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Executing controller #<Adhearsion::CallController call=52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e, metadata={}>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000009", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000009%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816524.11%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374618112%0A%0A"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">vm-dialout</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/200", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000009", :commandid=>"842874477", :command=>"EXEC Playback \"vm-dialout\""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"punchblock_call_id", :value=>"e72c08ad-8938-40c8-8a76-1c6efe30eaac", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:47] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816527.12", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000009", :commandid=>"842874477", :command=>"EXEC Playback \"vm-dialout\"", :resultcode=>"200", :result=>"Success"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-00000009", :commandid=>"ecd1a88c-bbcd-4036-8eb9-e0db8dc88f0a", :result=>"200%20result%3D0%0A"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000009", :commandid=>"1184884244", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id="035f7fc9-f6ee-40f1-bcfc-88272a986844", target_mixer_name=nil>, recording=nil, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id="035f7fc9-f6ee-40f1-bcfc-88272a986844", target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"punchblock_call_id", :value=>"e72c08ad-8938-40c8-8a76-1c6efe30eaac", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"ff78f84b-5de3-455b-a434-377533872894", :response=>"Success", :channel=>"SIP/200-0000000a", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359816527.12", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-0000000a", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F200-0000000a%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816527.12%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204375138304%0A%0A"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :uniqueid=>"1359816527.12", :accountcode=>"", :oldaccountcode=>""}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::CallController::Dial::Dial: #dial joining call e72c08ad-8938-40c8-8a76-1c6efe30eaac to 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Executing command #<Punchblock::Command::Join call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", mixer_name=nil, direction=nil, media=nil, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="MusicOnHold", attributes_hash={:privilege=>"call,all", :state=>"Stop", :channel=>"SIP/100-00000009", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/200-0000000a", :commandid=>"419662699", :command=>"EXEC Bridge \"SIP/100-00000009\""}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Rename", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :newname=>"SIP/100-00000009<MASQ>", :uniqueid=>"1359816524.11"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816529.13", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:49] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="BridgeExec", attributes_hash={:privilege=>"call,all", :response=>"Success", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"BRIDGEPEER", :value=>"SIP/200-0000000a", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000009", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :uniqueid=>"1359816529.13", :accountcode=>"", :oldaccountcode=>""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009", :uniqueid1=>"1359816527.12", :uniqueid2=>"1359816529.13", :callerid1=>"", :callerid2=>""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Link", :bridgetype=>"core", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009", :uniqueid1=>"1359816527.12", :uniqueid2=>"1359816529.13", :callerid1=>"", :callerid2=>""}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000009<ZOMBIE>", :commandid=>"1184884244", :command=>"EXEC Playback \"/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"BRIDGEPVTCALLID", :value=>"2aa4e32b2588ad5545be28a8757f14f7@127.0.0.1:5060", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"BRIDGEPEER", :value=>"SIP/100-00000009", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"Bridge/SIP/100-00000009<ZOMBIE>", :commandid=>"b326de5d-9165-41b5-9fa8-b5139a5fac71", :result=>"200%20result%3D-1%0A"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"BRIDGEPEER", :value=>"SIP/200-0000000a", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"Bridge/SIP/100-00000009<ZOMBIE>"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"BRIDGEPVTCALLID", :value=>"35eb355a0e8120902d134e7239e76595@127.0.0.1:5060", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Joined call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", mixer_name=nil, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Component::Output::Complete::Success name=:success, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id="a9d2c839-188b-4542-847b-204278bdbce0", target_mixer_name=nil>, recording=nil, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id="a9d2c839-188b-4542-847b-204278bdbce0", target_mixer_name=nil>
[2013-02-02 15:48:50] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Joined call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", mixer_name=nil, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"RTPAUDIOQOS", :value=>"ssrc=971991954;themssrc=1802943152;lp=0;rxjitter=0.002883;rxcount=127;txjitter=0.000000;txcount=114;rlp=0;rtt=0.000000", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"RTPAUDIOQOSBRIDGED", :value=>"ssrc=971991954;themssrc=1802943152;lp=0;rxjitter=0.002883;rxcount=127;txjitter=0.000000;txcount=114;rlp=0;rtt=0.000000", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"RTPAUDIOQOSJITTER", :value=>"minrxjitter=0.000000;maxrxjitter=0.000000;avgrxjitter=0.000000;stdevrxjitter=0.000000;reported_minjitter=0.000000;reported_maxjitter=0.000000;reported_avgjitter=0.000000;reported_stdevjitter=0.000000;", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"RTPAUDIOQOSJITTERBRIDGED", :value=>"minrxjitter=0.000000;maxrxjitter=0.000000;avgrxjitter=0.000000;stdevrxjitter=0.000000;reported_minjitter=0.000000;reported_maxjitter=0.000000;reported_avgjitter=0.000000;reported_stdevjitter=0.000000;", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"RTPAUDIOQOSLOSS", :value=>"minrxlost=0.000000;maxrxlost=0.000000;avgrxlost=0.000000;stdevrxlost=0.000000;reported_minlost=0.000000;reported_maxlost=0.000000;reported_avglost=0.000000;reported_stdevlost=0.000000;", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"RTPAUDIOQOSRTT", :value=>"minrtt=0.000000;maxrtt=0.000000;avgrtt=0.000000;stdevrtt=0.000000;", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"RTPAUDIOQOSLOSSBRIDGED", :value=>"minrxlost=0.000000;maxrxlost=0.000000;avgrxlost=0.000000;stdevrxlost=0.000000;reported_minlost=0.000000;reported_maxlost=0.000000;reported_avglost=0.000000;reported_stdevlost=0.000000;", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="HangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"RTPAUDIOQOSRTTBRIDGED", :value=>"minrtt=0.000000;maxrtt=0.000000;avgrtt=0.000000;stdevrtt=0.000000;", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009", :uniqueid1=>"1359816527.12", :uniqueid2=>"1359816529.13", :callerid1=>"", :callerid2=>""}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Bridge", attributes_hash={:privilege=>"call,all", :bridgestate=>"Unlink", :bridgetype=>"core", :channel1=>"SIP/200-0000000a", :channel2=>"SIP/100-00000009", :uniqueid1=>"1359816527.12", :uniqueid2=>"1359816529.13", :callerid1=>"", :callerid2=>""}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"BRIDGERESULT", :value=>"SUCCESS", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-0000000a"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/200-0000000a", :commandid=>"419662699", :command=>"EXEC Bridge \"SIP/100-00000009\"", :resultcode=>"200", :result=>"Success"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/200-0000000a", :commandid=>"d7b33bc5-521a-434b-99c2-1976e9104d56", :result=>"200%20result%3D0%0A"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="SoftHangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :uniqueid=>"1359816529.13", :cause=>"16"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000a", :uniqueid=>"1359816527.12", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000a", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359816527.12"}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-00000009"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-00000009", :uniqueid=>"1359816529.13", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newexten", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :context=>"default", :extension=>"h", :priority=>"1", :application=>"AGI", :appdata=>"agi:async", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-00000009", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-00000009%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816529.13%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20h%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374097920%0A%0A"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-00000009", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359816529.13"}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] INFO  Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Call ended
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: e72c08ad-8938-40c8-8a76-1c6efe30eaac: Receiving message: #<Punchblock::Event::Unjoined call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", mixer_name=nil, target_call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] INFO  Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Call ended
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Receiving message: #<Punchblock::Event::Unjoined call_id="e72c08ad-8938-40c8-8a76-1c6efe30eaac", mixer_name=nil, target_call_id="52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:51] DEBUG Adhearsion::CallController::Dial::Dial: #dial finished. Hanging up 1 outbound calls: e72c08ad-8938-40c8-8a76-1c6efe30eaac.
[2013-02-02 15:48:51] INFO  Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Call was hung up
[2013-02-02 15:48:51] DEBUG Adhearsion::OutboundCall: 52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e: Finished executing controller #<Adhearsion::CallController call=52ce0997-39a2-4a3a-894d-1b3ac6fe8c2e, metadata={}>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/100", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816537.14", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"punchblock_call_id", :value=>"9f9ce428-747c-486d-8088-807517f9ce26", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :uniqueid=>"1359816537.14", :accountcode=>"", :oldaccountcode=>""}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:57] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"punchblock_call_id", :value=>"9f9ce428-747c-486d-8088-807517f9ce26", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :uniqueid=>"1359816537.14", :accountcode=>"", :oldaccountcode=>""}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Answered headers_hash={}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :channelstate=>"6", :channelstatedesc=>"Up", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="OriginateResponse", attributes_hash={:privilege=>"call,all", :actionid=>"e8bb263e-d38a-4c4f-bc92-015983b79f41", :response=>"Success", :channel=>"SIP/100-0000000b", :context=>"", :exten=>"", :reason=>"4", :uniqueid=>"1359816537.14", :calleridnum=>"<unknown>", :calleridname=>"<unknown>"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-0000000b", :env=>"agi_request%3A%20async%0Aagi_channel%3A%20SIP%2F100-0000000b%0Aagi_language%3A%20en%0Aagi_type%3A%20SIP%0Aagi_uniqueid%3A%201359816537.14%0Aagi_version%3A%2010.7.0%0Aagi_callerid%3A%20unknown%0Aagi_calleridname%3A%20unknown%0Aagi_callingpres%3A%200%0Aagi_callingani2%3A%200%0Aagi_callington%3A%200%0Aagi_callingtns%3A%200%0Aagi_dnid%3A%20unknown%0Aagi_rdnis%3A%20unknown%0Aagi_context%3A%20default%0Aagi_extension%3A%20%0Aagi_priority%3A%201%0Aagi_enhanced%3A%200.0%0Aagi_accountcode%3A%20%0Aagi_threadid%3A%204374618112%0A%0A"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:48:59] INFO  Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Executing controller #<Adhearsion::CallController call=9f9ce428-747c-486d-8088-807517f9ce26, metadata={}>
[2013-02-02 15:48:59] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">vm-dialout</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Executing command #<Punchblock::Component::Output target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new, voice=nil, ssml=<speak xmlns="http://www.w3.org/2001/10/synthesis" version="1.0" xml:lang="en-US">
  <audio src="/Users/luca/projects/fosdem2013/ahn/sounds/call_me_maybe"/>
</speak>, interrupt_on=nil, start_offset=nil, start_paused=false, repeat_interval=nil, repeat_times=nil, max_time=nil, renderer=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: : Executing command #<Punchblock::Command::Dial to="SIP/200", from=nil, join=nil, headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"Start", :channel=>"SIP/100-0000000b", :commandid=>"2136071436", :command=>"EXEC Playback \"vm-dialout\""}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/200-0000000c", :variable=>"punchblock_call_id", :value=>"2f236e3c-dc7b-4c52-909c-3a7415481031", :uniqueid=>"1359816540.15"}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewCallerid", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000c", :calleridnum=>"", :calleridname=>"", :uniqueid=>"1359816540.15", :cid_callingpres=>"0 (Presentation Allowed, Not Screened)"}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="NewAccountCode", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000c", :uniqueid=>"1359816540.15", :accountcode=>"", :oldaccountcode=>""}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Newstate", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000c", :channelstate=>"5", :channelstatedesc=>"Ringing", :calleridnum=>"", :calleridname=>"", :connectedlinenum=>"", :connectedlinename=>"", :uniqueid=>"1359816540.15"}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:00] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Ringing headers_hash={}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"RTPAUDIOQOS", :value=>"ssrc=1931291258;themssrc=1232148023;lp=0;rxjitter=0.002782;rxcount=103;txjitter=0.000000;txcount=97;rlp=0;rtt=0.000000", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"RTPAUDIOQOSJITTER", :value=>"minrxjitter=0.000000;maxrxjitter=0.000000;avgrxjitter=0.000000;stdevrxjitter=0.000000;reported_minjitter=0.000000;reported_maxjitter=0.000000;reported_avgjitter=0.000000;reported_stdevjitter=0.000000;", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"RTPAUDIOQOSLOSS", :value=>"minrxlost=0.000000;maxrxlost=0.000000;avgrxlost=0.000000;stdevrxlost=0.000000;reported_minlost=0.000000;reported_maxlost=0.000000;reported_avglost=0.000000;reported_stdevlost=0.000000;", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="HangupRequest", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"PLAYBACKSTATUS", :value=>"SUCCESS", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"RTPAUDIOQOSRTT", :value=>"minrtt=0.000000;maxrtt=0.000000;avgrtt=0.000000;stdevrtt=0.000000;", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AGIExec", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-0000000b", :commandid=>"2136071436", :command=>"EXEC Playback \"vm-dialout\"", :resultcode=>"200", :result=>"Unknown Result"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"Exec", :channel=>"SIP/100-0000000b", :commandid=>"241a5486-aea4-40d9-9bdf-c0dd4d615f90", :result=>"200%20result%3D-1%0A"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="AsyncAGI", attributes_hash={:privilege=>"agi,all", :subevent=>"End", :channel=>"SIP/100-0000000b"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="VarSet", attributes_hash={:privilege=>"dialplan,all", :channel=>"SIP/100-0000000b", :variable=>"AGISTATUS", :value=>"HANGUP", :uniqueid=>"1359816537.14"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/100-0000000b", :uniqueid=>"1359816537.14", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"16", :cause_txt=>"Normal Clearing"}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Hangup name=:hangup, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id="9e7dacc1-b485-4b54-8930-24ca9f48fca7", target_mixer_name=nil>, recording=nil, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id="9e7dacc1-b485-4b54-8930-24ca9f48fca7", target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::Complete reason=#<Punchblock::Event::Complete::Hangup name=:hangup, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id="751ee075-db4e-42fe-87bd-3c26cfa9c768", target_mixer_name=nil>, recording=nil, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id="751ee075-db4e-42fe-87bd-3c26cfa9c768", target_mixer_name=nil>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Receiving message: #<Punchblock::Event::End reason=:hangup, headers_hash={}, target_call_id="9f9ce428-747c-486d-8088-807517f9ce26", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] INFO  Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Call ended
[2013-02-02 15:49:02] DEBUG Adhearsion::CallController::Dial::Dial: #dial finished. Hanging up 1 outbound calls: 2f236e3c-dc7b-4c52-909c-3a7415481031.
[2013-02-02 15:49:02] INFO  Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Hanging up
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Executing command #<Punchblock::Command::Hangup headers_hash={}, target_call_id=nil, component_id=nil, target_mixer_name=nil, state_name=:new>
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::Asterisk::AMI::Event name="Hangup", attributes_hash={:privilege=>"call,all", :channel=>"SIP/200-0000000c", :uniqueid=>"1359816540.15", :calleridnum=>"<unknown>", :calleridname=>"<unknown>", :connectedlinenum=>"<unknown>", :connectedlinename=>"<unknown>", :cause=>"19", :cause_txt=>"User alerting, no answer"}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] INFO  Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Call was hung up
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Receiving message: #<Punchblock::Event::End reason=:reject, headers_hash={}, target_call_id="2f236e3c-dc7b-4c52-909c-3a7415481031", component_id=nil, target_mixer_name=nil>
[2013-02-02 15:49:02] INFO  Adhearsion::OutboundCall: 2f236e3c-dc7b-4c52-909c-3a7415481031: Call ended
[2013-02-02 15:49:02] DEBUG Adhearsion::OutboundCall: 9f9ce428-747c-486d-8088-807517f9ce26: Finished executing controller #<Adhearsion::CallController call=9f9ce428-747c-486d-8088-807517f9ce26, metadata={}>
[2013-02-02 15:50:52] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:50:52] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:50:52] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:50:52] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:50:52] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:50:52] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:50:52] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:50:52] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:50:52] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:50:52] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:50:52] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:50:52] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:50:52] DEBUG Celluloid: Shutdown completed cleanly
[2013-02-02 15:51:03] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:51:03] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:51:03] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:51:03] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:51:03] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:51:03] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:51:03] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:51:03] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:51:03] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:51:03] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:51:26] ERROR Adhearsion::Initializer: Error after joining Thread Thread. deadlock; recursive locking
[2013-02-02 15:51:27] DEBUG Celluloid: Terminating 13 actors...
[2013-02-02 15:51:27] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:51:27] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:53:08] DEBUG Adhearsion::LinuxProcName: Error while attaching libc function prctl: Function 'prctl' not found in [libc.dylib]
[2013-02-02 15:53:08] INFO  Adhearsion::Initializer: Setting RAILS_ENV to "development"
[2013-02-02 15:53:08] WARN  NilClass: Virginia has been loaded
[2013-02-02 15:53:08] INFO  Adhearsion::PunchblockPlugin::Initializer: Starting connection to server
[2013-02-02 15:53:08] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:53:08] DEBUG RubyAMI::Client: Starting up...
[2013-02-02 15:53:08] INFO  Adhearsion::Console: Launching Adhearsion Console
[2013-02-02 15:53:08] INFO  Adhearsion::PunchblockPlugin::Initializer: Connected to Punchblock server
[2013-02-02 15:53:08] INFO  Adhearsion::Process: Transitioning from booting to running with 0 active calls due to booted event.
[2013-02-02 15:53:08] INFO  Adhearsion::Initializer: Adhearsion v2.2.1 initialized in "development"!
[2013-02-02 15:53:55] INFO  Adhearsion::Initializer: Received SIGINT. Shutting down.
[2013-02-02 15:53:55] INFO  Adhearsion::Initializer: Received SIGTERM. Shutting down.
[2013-02-02 15:53:55] INFO  Adhearsion::Process: Transitioning from running to stopping with 0 active calls due to shutdown event.
[2013-02-02 15:53:55] INFO  Adhearsion::Process: Transitioning from stopping to rejecting with 0 active calls due to shutdown event.
[2013-02-02 15:53:55] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:53:55] DEBUG RubyAMI::Client: Finalizing stream
[2013-02-02 15:53:55] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:53:55] INFO  Adhearsion::Console: Adhearsion Console shutting down
[2013-02-02 15:53:55] INFO  Adhearsion::PunchblockPlugin::Initializer: Shutting down while connecting. Breaking the connection block.
[2013-02-02 15:53:55] INFO  Adhearsion::Process: Adhearsion shut down
[2013-02-02 15:53:55] ERROR Adhearsion::Initializer: Error after joining Thread Thread. undefined method `kill' for nil:NilClass
[2013-02-02 15:53:55] DEBUG Celluloid: Terminating 10 actors...
[2013-02-02 15:53:55] DEBUG Celluloid: Shutdown completed cleanly
